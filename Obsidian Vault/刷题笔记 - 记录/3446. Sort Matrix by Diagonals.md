
| Category   | Difficulty       | Likes | Dislikes |
| ---------- | ---------------- | ----- | -------- |
| algorithms | #Medium (70.53%) | 389   | 76       |

**Tags**

[`Unknown`](https://leetcode.com/tag/Unknown?source=vscode "https://leetcode.com/tag/Unknown?source=vscode") #matrix #sorting 

**Companies**

`Unknown`

You are given an `n x n` square matrix of integers `grid`. Return the matrix such that:

- The diagonals in the **bottom-left triangle** (including the middle diagonal) are sorted in **non-increasing order**.
- The diagonals in the **top-right triangle** are sorted in **non-decreasing order**.

**Example 1:**

**Input:** grid = [[1,7,3],[9,8,2],[4,5,6]]

**Output:** [[8,2,3],[9,6,7],[4,5,1]]

**Explanation:**

![](https://assets.leetcode.com/uploads/2024/12/29/4052example1drawio.png)

The diagonals with a black arrow (bottom-left triangle) should be sorted in non-increasing order:

- `[1, 8, 6]` becomes `[8, 6, 1]`.
- `[9, 5]` and `[4]` remain unchanged.

The diagonals with a blue arrow (top-right triangle) should be sorted in non-decreasing order:

- `[7, 2]` becomes `[2, 7]`.
- `[3]` remains unchanged.

**Example 2:**

**Input:** grid = [[0,1],[1,2]]

**Output:** [[2,1],[1,0]]

**Explanation:**

![](https://assets.leetcode.com/uploads/2024/12/29/4052example2adrawio.png)

The diagonals with a black arrow must be non-increasing, so `[0, 2]` is changed to `[2, 0]`. The other diagonals are already in the correct order.

**Example 3:**

**Input:** grid = [[1]]

**Output:** [[1]]

**Explanation:**

Diagonals with exactly one element are already in order, so no changes are needed.

**Constraints:**

- `grid.length == grid[i].length == n`
- `1 <= n <= 10`
- `-105 <= grid[i][j] <= 105`

---

[Submissions](https://leetcode.com/problems/sort-matrix-by-diagonals/submissions/?source=vscode "https://leetcode.com/problems/sort-matrix-by-diagonals/submissions/?source=vscode") | [Solution](https://leetcode.com/problems/sort-matrix-by-diagonals/solutions/?source=vscode "https://leetcode.com/problems/sort-matrix-by-diagonals/solutions/?source=vscode")

```python

class Solution:
    def sortMatrix(self, grid: List[List[int]]) -> List[List[int]]:
        n=len(grid)
        # 0,n-1
        # 0,n-2; 1,n-1
        # ...
        # n-1,0
        DIR=(1,1)
        for i in range(n-1):
            x=0
            y=n-1-i
            # print("x,y:", x,y)
            diagonal_idx=[]
            diagonal_val=[]
            # get diagonal
            while x>=0 and x<n and y>=0 and y<n:
                diagonal_idx.append((x,y))
                diagonal_val.append(grid[x][y])
                x+=DIR[0]
                y+=DIR[1]

            diagonal_val.sort()
            # print(diagonal_val)
            m=len(diagonal_idx)
            for j in range(m):
                nx,ny=diagonal_idx[j]
                grid[nx][ny]=diagonal_val[j]
        
        for i in range(n):
            x=i
            y=0
            # print("x,y:", x,y)
            diagonal_idx=[]
            diagonal_val=[]
            # get diagonal
            while x>=0 and x<n and y>=0 and y<n:
                diagonal_idx.append((x,y))
                diagonal_val.append(grid[x][y])
                x+=DIR[0]
                y+=DIR[1]

            diagonal_val.sort(reverse=True)
            # print(diagonal_val)
            m=len(diagonal_idx)
            for j in range(m):
                nx,ny=diagonal_idx[j]
                grid[nx][ny]=diagonal_val[j]

        return grid

```