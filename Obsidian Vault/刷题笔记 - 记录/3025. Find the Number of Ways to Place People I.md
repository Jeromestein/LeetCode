
| Category   | Difficulty       | Likes | Dislikes |
| ---------- | ---------------- | ----- | -------- |
| algorithms | #Medium (40.87%) | 363   | 155      |

**Tags**

[`Unknown`](https://leetcode.com/tag/Unknown?source=vscode "https://leetcode.com/tag/Unknown?source=vscode") #greedy #sorting

**Companies**

`Unknown`

You are given a 2D array `points` of size `n x 2` representing integer coordinates of some points on a 2D plane, where `points[i] = [xi, yi]`.

Count the number of pairs of points `(A, B)`, where

- `A` is on the **upper left** side of `B`, and
- there are no other points in the rectangle (or line) they make (**including the border**).

Return the count.

**Example 1:**

**Input:** points = [[1,1],[2,2],[3,3]]

**Output:** 0

**Explanation:**

![](https://assets.leetcode.com/uploads/2024/01/04/example1alicebob.png)

There is no way to choose `A` and `B` so `A` is on the upper left side of `B`.

**Example 2:**

**Input:** points = [[6,2],[4,4],[2,6]]

**Output:** 2

**Explanation:**

![](https://assets.leetcode.com/uploads/2024/06/25/t2.jpg)

- The left one is the pair `(points[1], points[0])`, where `points[1]` is on the upper left side of `points[0]` and the rectangle is empty.
- The middle one is the pair `(points[2], points[1])`, same as the left one it is a valid pair.
- The right one is the pair `(points[2], points[0])`, where `points[2]` is on the upper left side of `points[0]`, but `points[1]` is inside the rectangle so it's not a valid pair.

**Example 3:**

**Input:** points = [[3,1],[1,3],[1,1]]

**Output:** 2

**Explanation:**

![](https://assets.leetcode.com/uploads/2024/06/25/t3.jpg)

- The left one is the pair `(points[2], points[0])`, where `points[2]` is on the upper left side of `points[0]` and there are no other points on the line they form. Note that it is a valid state when the two points form a line.
- The middle one is the pair `(points[1], points[2])`, it is a valid pair same as the left one.
- The right one is the pair `(points[1], points[0])`, it is not a valid pair as `points[2]` is on the border of the rectangle.

**Constraints:**

- `2 <= n <= 50`
- `points[i].length == 2`
- `0 <= points[i][0], points[i][1] <= 50`
- All `points[i]` are distinct.

---

[Submissions](https://leetcode.com/problems/find-the-number-of-ways-to-place-people-i/submissions/?source=vscode "https://leetcode.com/problems/find-the-number-of-ways-to-place-people-i/submissions/?source=vscode") | [Solution](https://leetcode.com/problems/find-the-number-of-ways-to-place-people-i/solutions/?source=vscode "https://leetcode.com/problems/find-the-number-of-ways-to-place-people-i/solutions/?source=vscode")

```python

class Solution:
    def numberOfPairs(self, points: List[List[int]]) -> int:
        # Step 1. Sort points:
        # - Primary key: x coordinate in descending order (-p[0])
        # - Secondary key: y coordinate in ascending order (p[1])
        # Why? To ensure we process larger x first, and for the same x, smaller y first
        points.sort(key=lambda p: (-p[0], p[1]))

        n, res = len(points), 0

        # Step 2. Outer loop: choose a point P[i]
        for i in range(n - 1):
            # Initialize y as a very large value (infinity substitute)
            y = float('inf')

            # Step 3. Inner loop: look at all points after P[i]
            for j in range(i + 1, n):
                # Condition:
                #   1. P[j][1] >= P[i][1]   (y_j >= y_i)
                #   2. P[j][1] < y          (y_j is strictly smaller than the last chosen y)
                if y > points[j][1] >= points[i][1]:
                    res += 1        # Found a valid pair (i, j)
                    y = points[j][1]     # Update "current best y" to enforce strict decreasing order

        return res

```

O(n^2)
O(1)