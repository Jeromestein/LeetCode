| Category   | Difficulty       | Likes | Dislikes |
| ---------- | ---------------- | ----- | -------- |
| algorithms | #Medium (47.91%) | 1194  | 40       |

**Tags**

[`Unknown`](https://leetcode.com/tag/Unknown?source=vscode "https://leetcode.com/tag/Unknown?source=vscode") #string #counting 

**Companies**

`Unknown`

Given a binary string `s`, return _the number of substrings with all characters_ `1`_'s_. Since the answer may be too large, return it modulo `109 + 7`.

**Example 1:**

```
Input: s = "0110111"
Output: 9
Explanation: There are 9 substring in total with only 1's characters.
"1" -> 5 times.
"11" -> 3 times.
"111" -> 1 time.
```

**Example 2:**

```
Input: s = "101"
Output: 2
Explanation: Substring "1" is shown 2 times in s.
```

**Example 3:**

```
Input: s = "111111"
Output: 21
Explanation: Each substring contains only 1's characters.
```

**Constraints:**

- `1 <= s.length <= 105`
- `s[i]` is either `'0'` or `'1'`.

---

[Submissions](https://leetcode.com/problems/number-of-substrings-with-only-1s/submissions/?source=vscode "https://leetcode.com/problems/number-of-substrings-with-only-1s/submissions/?source=vscode") | [Solution](https://leetcode.com/problems/number-of-substrings-with-only-1s/solutions/?source=vscode "https://leetcode.com/problems/number-of-substrings-with-only-1s/solutions/?source=vscode")

```python

class Solution:
    def numSub(self, s: str) -> int:
        total, cnt = 0, 0
        length = len(s)
        for i in range(length):
            if s[i] == "0":
                total += cnt * (cnt + 1) // 2
                total %= 10**9 + 7
                cnt = 0
            else:
                cnt += 1

        total += cnt * (cnt + 1) // 2
        total %= 10**9 + 7
        return total

```
O(n)
O(1)